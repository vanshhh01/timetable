<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Timetable</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body{font-family:'Inter',sans-serif;background:#0f172a;color:#fff;margin:0;padding:20px;display:flex;justify-content:center}
.app{width:460px;background:#111827;border-radius:20px;padding:24px}
header{display:flex;justify-content:space-between;margin-bottom:20px}
.day-switch{display:flex;gap:8px;margin-bottom:20px;flex-wrap:wrap}
.day-btn{padding:8px 14px;border-radius:10px;background:#1f2937;cursor:pointer}
.day-btn.active{background:#3b82f6}
.next{background:#1e293b;border-radius:16px;padding:18px;margin-bottom:20px}
.list{display:flex;flex-direction:column;gap:10px}
.item{background:#1f2937;border-radius:12px;padding:14px;display:flex;justify-content:space-between}
.item.current{background:#2563eb}
.item.nextClass{background:#fde047;color:#000}
.class-name{font-weight:600}
.teacher-name{font-size:12px;color:#cbd5e1}
.time-range{font-weight:600}
</style>
</head>
<body>
<div class="app">
<header>
<h2>ğŸ“… Timetable</h2>
<div id="clock"></div>
</header>

<div class="day-switch" id="days"></div>
<div id="nextSection"></div>
<div class="list" id="schedule"></div>
</div>

<script>
// 8 slots (lunch ignored internally)
const periods=[
 "08:50-09:40",
 "09:40-10:30",
 "10:40-11:30",
 "11:30-12:20",
 "13:10-14:00",
 "14:00-14:50",
 "14:50-15:40",
 "15:40-16:30"
];

const timetable={
 Monday:[
  {name:"Environment & Sustainability",teacher:"Divyanshi Sharma",room:"RJ-201"},
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"},
  {name:"Applied Physics",teacher:"Isha Mehra",room:"RJ-201"},
  {name:"Basic Electrical Engg",teacher:"Vikash Tiwari",room:"RJ-201"},
  {name:"Physics Lab",teacher:"Isha Mehra",lab:"phy",room:"KC-310"},
  {name:"Physics Lab",teacher:"Isha Mehra",lab:"phy",room:"KC-310"},
  {name:"Data Structure Using C++",teacher:"Ankur Sharma",room:"RJ-201"},
  {name:"Essentials of AI",teacher:"Rahul Singh",room:"RJ-201"}
 ],
 Tuesday:[
  {name:"Data Structure Lab",teacher:"Ankur Sharma",lab:"ds",room:"RJ-201"},
  {name:"Data Structure Lab",teacher:"Ankur Sharma",lab:"ds",room:"RJ-201"},
  {name:"Basic Electrical Engg",teacher:"Vikash Tiwari",room:"RJ-201"},
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"},
  {name:"Essentials of AI",teacher:"Rahul Singh",room:"RJ-201"},
  {name:"Applied Physics",teacher:"Isha Mehra",room:"RJ-201"},
  {name:"Environment & Sustainability",teacher:"Divyanshi Sharma",room:"RJ-201"},
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"}
 ],
 Wednesday:[
  {name:"Basic Electrical Engg",teacher:"Vikash Tiwari",room:"RJ-201"},
  {name:"Applied Physics",teacher:"Isha Mehra",room:"RJ-201"},
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"},
  {name:"Data Structure Using C++",teacher:"Ankur Sharma",room:"RJ-201"},
  {name:"Web Designing Workshop",teacher:"Jitendra Kumar",room:"RJ-201"},
  {name:"Web Designing Workshop",teacher:"Jitendra Kumar",room:"RJ-201"},
  {name:"Mentor Mentee",teacher:"Mentors",room:"RJ-201"},
  null
 ],
 Thursday:[
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"},
  {name:"Data Structure Using C++",teacher:"Ankur Sharma",room:"RJ-201"},
  {name:"CAD Lab",teacher:"Mohit Bansal",lab:"cad",room:"RJ-109"},
  {name:"CAD Lab",teacher:"Mohit Bansal",lab:"cad",room:"RJ-109"},
  {name:"Basic Electrical Engg",teacher:"Vikash Tiwari",room:"RJ-201"},
  {name:"Web Designing Workshop",teacher:"Jitendra Kumar",room:"RJ-201"},
  {name:"Essentials of AI",teacher:"Rahul Singh",room:"RJ-201"},
  {name:"Applied Physics",teacher:"Isha Mehra",room:"RJ-201"}
 ],
 Friday:[
  {name:"Applied Physics",teacher:"Isha Mehra",room:"RJ-201"},
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"},
  {name:"Electrical Lab",teacher:"Vikash Tiwari",lab:"ele",room:"RJ-Basement"},
  {name:"Electrical Lab",teacher:"Vikash Tiwari",lab:"ele",room:"RJ-Basement"},
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"},
  {name:"Data Structure Using C++",teacher:"Ankur Sharma",room:"RJ-201"},
  {name:"Basic Electrical Engg",teacher:"Vikash Tiwari",room:"RJ-201"},
  {name:"Environment & Sustainability",teacher:"Divyanshi Sharma",room:"RJ-201"}
 ]
};

const dayOrder=["Monday","Tuesday","Wednesday","Thursday","Friday"];
let todayReal=new Date().toLocaleString('en-US',{weekday:'long'});
let selectedDay=dayOrder.includes(todayReal)?todayReal:"Monday";

const daysDiv=document.getElementById("days");
dayOrder.forEach(d=>{
 const btn=document.createElement("div");
 btn.className="day-btn"+(d===selectedDay?" active":"");
 btn.innerText=d.slice(0,3);
 btn.onclick=()=>{selectedDay=d;document.querySelectorAll('.day-btn').forEach(b=>b.classList.remove('active'));btn.classList.add('active');render();};
 daysDiv.appendChild(btn);
});

function toMin(t){let[h,m]=t.split(":").map(Number);return h*60+m;}

function mergeLabs(slots){
 let merged=[];
 for(let i=0;i<slots.length;i++){
   let cur=slots[i];
   if(cur && cur.lab && slots[i+1] && slots[i+1].lab===cur.lab){
     merged.push({name:cur.name,teacher:cur.teacher,room:cur.room,time:periods[i].split("-")[0]+"-"+periods[i+1].split("-")[1]});
     i++;
   }else if(cur){
     merged.push({...cur,time:periods[i]});
   }
 }
 return merged;
}

function render(){
 const list=document.getElementById("schedule");
 const nextSection=document.getElementById("nextSection");
 list.innerHTML="";
 let now=new Date();
 let current=now.getHours()*60+now.getMinutes();

 let merged=mergeLabs(timetable[selectedDay]||[]);
 let next=null,currentClass=null;

 merged.forEach(cls=>{
   let [start,end]=cls.time.split("-");
   let s=toMin(start), e=toMin(end);
   let status="";
   if(current>=s && current<=e){status="current";currentClass=cls;}
   else if(current<s && !next){status="nextClass";next=cls;}

   list.innerHTML+=`
   <div class="item ${status}">
     <div>
       <div class="class-name">${cls.name}</div>
       <div class="teacher-name">ğŸ‘¤ ${cls.teacher} â€¢ ğŸ“ ${cls.room}</div>
     </div>
     <div class="time-range">${cls.time}</div>
   </div>`;
 });

 nextSection.innerHTML=`
  <div class="next">
    <b>Now:</b> ${currentClass?currentClass.name+" ("+currentClass.time+")":"No class"}<br>
    ğŸ‘¤ ${currentClass?currentClass.teacher:"-"} â€¢ ğŸ“ ${currentClass?currentClass.room:"-"}
    <hr>
    <b>Next:</b> ${next?next.name+" ("+next.time+")":"None"}<br>
    ğŸ‘¤ ${next?next.teacher:"-"} â€¢ ğŸ“ ${next?next.room:"-"}
  </div>`;
}

setInterval(()=>{
 document.getElementById("clock").innerText=new Date().toLocaleTimeString();
 render();
},1000);
</script>
</body>
</html>
