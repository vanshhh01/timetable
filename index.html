<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Timetable</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',sans-serif}
body{
  min-height:100vh;
  background:linear-gradient(135deg,#0f172a,#020617);
  color:#fff;
  display:flex;
  justify-content:center;
  padding:20px;
}
.app{
  width:460px;
  max-width:100%;
  background:rgba(17,24,39,0.9);
  backdrop-filter:blur(20px);
  border-radius:24px;
  padding:24px;
  border:1px solid rgba(255,255,255,0.08);
  box-shadow:0 25px 50px rgba(0,0,0,0.6);
}
header{display:flex;justify-content:space-between;margin-bottom:20px}
h1{font-size:26px;font-weight:700}
.clock{font-size:14px;color:#94a3b8}

.day-switch{display:flex;gap:8px;margin-bottom:20px;flex-wrap:wrap}
.day-btn{
  padding:8px 14px;border-radius:12px;
  background:rgba(255,255,255,0.05);
  cursor:pointer;font-size:13px;color:#94a3b8;
  border:1px solid rgba(255,255,255,0.1);
  transition:.2s;
}
.day-btn.active{
  background:linear-gradient(135deg,#3b82f6,#6366f1);
  color:#fff;
}

.next{
  margin-bottom:20px;
}

.next-grid{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}

.now-card,.next-card{
  flex:1;
  min-width:140px;
  border-radius:16px;
  padding:14px;
  backdrop-filter:blur(10px);
}

.now-card{
  background:rgba(59,130,246,0.15);
  border:1px solid rgba(59,130,246,0.4);
}

.next-card{
  background:rgba(253,224,71,0.2);
  border:1px solid rgba(253,224,71,0.6);
  color:#000;
}

.card-label{font-size:11px;font-weight:600;margin-bottom:4px}
.card-title{font-weight:700;font-size:15px;margin-bottom:4px}
.card-sub{font-size:12px}

.list{display:flex;flex-direction:column;gap:10px}
.item{
  background:rgba(255,255,255,0.04);
  border-radius:14px;
  padding:14px;
  display:flex;
  justify-content:space-between;
  border:1px solid rgba(255,255,255,0.08);
}
.item.current{
  background:rgba(59,130,246,0.3);
}
.item.nextClass{
  background:rgba(253,224,71,0.8);
  color:#000;
}
.class-name{font-weight:600}
.teacher-name{font-size:12px;color:#94a3b8}
.time-range{font-weight:600}

@media(max-width:600px){
  .app{width:100%}
  .item{flex-direction:column;gap:6px}
}
</style>
</head>

<body>
<div class="app">
<header>
<h1>üìÖ Timetable</h1>
<div class="clock" id="clock"></div>
</header>

<div class="day-switch" id="days"></div>

<div id="nextSection" class="next"></div>

<div class="list" id="schedule"></div>
</div>

<script>
// 8 periods (lunch ignored)
const periods=[
 "08:50-09:40","09:40-10:30","10:40-11:30","11:30-12:20",
 "13:10-14:00","14:00-14:50","14:50-15:40","15:40-16:30"
];

// Full week with correct rooms
const timetable={
 Monday:[
  {name:"Environment & Sustainability",teacher:"Divyanshi Sharma",room:"RJ-201"},
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"},
  {name:"Applied Physics",teacher:"Isha Mehra",room:"RJ-201"},
  {name:"Basic Electrical Engg",teacher:"Vikash Tiwari",room:"RJ-201"},
  {name:"Physics Lab",teacher:"Isha Mehra",lab:"phy",room:"KC-310"},
  {name:"Physics Lab",teacher:"Isha Mehra",lab:"phy",room:"KC-310"},
  {name:"Data Structure Using C++",teacher:"Ankur Sharma",room:"RJ-201"},
  {name:"Essentials of AI",teacher:"Rahul Singh",room:"RJ-201"}
 ],
 Tuesday:[
  {name:"Data Structure Lab",teacher:"Ankur Sharma",lab:"ds",room:"RJ-201"},
  {name:"Data Structure Lab",teacher:"Ankur Sharma",lab:"ds",room:"RJ-201"},
  {name:"Basic Electrical Engg",teacher:"Vikash Tiwari",room:"RJ-201"},
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"},
  {name:"Essentials of AI",teacher:"Rahul Singh",room:"RJ-201"},
  {name:"Applied Physics",teacher:"Isha Mehra",room:"RJ-201"},
  {name:"Environment & Sustainability",teacher:"Divyanshi Sharma",room:"RJ-201"},
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"}
 ],
 Wednesday:[
  {name:"Basic Electrical Engg",teacher:"Vikash Tiwari",room:"RJ-201"},
  {name:"Applied Physics",teacher:"Isha Mehra",room:"RJ-201"},
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"},
  {name:"Data Structure Using C++",teacher:"Ankur Sharma",room:"RJ-201"},
  {name:"Web Designing Workshop",teacher:"Jitendra Kumar",room:"RJ-201"},
  {name:"Web Designing Workshop",teacher:"Jitendra Kumar",room:"RJ-201"},
  {name:"Mentor Mentee",teacher:"Mentors",room:"RJ-201"},
  null
 ],
 Thursday:[
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"},
  {name:"Data Structure Using C++",teacher:"Ankur Sharma",room:"RJ-201"},
  {name:"CAD Lab",teacher:"Mohit Bansal",lab:"cad",room:"RJ-109"},
  {name:"CAD Lab",teacher:"Mohit Bansal",lab:"cad",room:"RJ-109"},
  {name:"Basic Electrical Engg",teacher:"Vikash Tiwari",room:"RJ-201"},
  {name:"Web Designing Workshop",teacher:"Jitendra Kumar",room:"RJ-201"},
  {name:"Essentials of AI",teacher:"Rahul Singh",room:"RJ-201"},
  {name:"Applied Physics",teacher:"Isha Mehra",room:"RJ-201"}
 ],
 Friday:[
  {name:"Applied Physics",teacher:"Isha Mehra",room:"RJ-201"},
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"},
  {name:"Electrical Lab",teacher:"Vikash Tiwari",lab:"ele",room:"RJ-Basement"},
  {name:"Electrical Lab",teacher:"Vikash Tiwari",lab:"ele",room:"RJ-Basement"},
  {name:"Applied Calculus",teacher:"Ranjeet Kaur",room:"RJ-201"},
  {name:"Data Structure Using C++",teacher:"Ankur Sharma",room:"RJ-201"},
  {name:"Basic Electrical Engg",teacher:"Vikash Tiwari",room:"RJ-201"},
  {name:"Environment & Sustainability",teacher:"Divyanshi Sharma",room:"RJ-201"}
 ]
};

const dayOrder=["Monday","Tuesday","Wednesday","Thursday","Friday"];
let todayReal=new Date().toLocaleString('en-US',{weekday:'long'});
let selectedDay=dayOrder.includes(todayReal)?todayReal:"Monday";

const daysDiv=document.getElementById("days");
dayOrder.forEach(d=>{
 const btn=document.createElement("div");
 btn.className="day-btn"+(d===selectedDay?" active":"");
 btn.innerText=d.slice(0,3);
 btn.onclick=()=>{selectedDay=d;document.querySelectorAll('.day-btn').forEach(b=>b.classList.remove('active'));btn.classList.add('active');render();};
 daysDiv.appendChild(btn);
});

function toMin(t){let[h,m]=t.split(":").map(Number);return h*60+m;}

function mergeLabs(slots){
 let merged=[];
 for(let i=0;i<slots.length;i++){
   let cur=slots[i];
   if(cur && cur.lab && slots[i+1] && slots[i+1].lab===cur.lab){
     merged.push({name:cur.name,teacher:cur.teacher,room:cur.room,time:periods[i].split("-")[0]+"-"+periods[i+1].split("-")[1]});
     i++;
   }else if(cur){
     merged.push({...cur,time:periods[i]});
   }
 }
 return merged;
}

function render(){
 const list=document.getElementById("schedule");
 const nextSection=document.getElementById("nextSection");
 list.innerHTML="";
 let now=new Date();
 let current=now.getHours()*60+now.getMinutes();
 let todayIndex=dayOrder.indexOf(todayReal);
 let selectedIndex=dayOrder.indexOf(selectedDay);
 let isToday=(todayIndex===selectedIndex);

 let merged=mergeLabs(timetable[selectedDay]||[]);
 let next=null,currentClass=null;

 merged.forEach(cls=>{
   let [start,end]=cls.time.split("-");
   let s=toMin(start), e=toMin(end);
   let status="";
   if(isToday){
     if(current>=s && current<=e){status="current";currentClass=cls;}
     else if(current<s && !next){status="nextClass";next=cls;}
   }else{
     if(!next){next=cls;}
   }

   list.innerHTML+=`
   <div class="item ${status}">
     <div>
       <div class="class-name">${cls.name}</div>
       <div class="teacher-name">üë§ ${cls.teacher} ‚Ä¢ üìç ${cls.room}</div>
     </div>
     <div class="time-range">${cls.time}</div>
   </div>`;
 });

 nextSection.innerHTML=`
 <div class="next-grid">
   <div class="now-card">
     <div class="card-label">NOW</div>
     <div class="card-title">${currentClass?currentClass.name:"No class"}</div>
     <div class="card-sub">${currentClass?currentClass.teacher+" ‚Ä¢ "+currentClass.room:"-"}</div>
     <div class="card-sub">${currentClass?currentClass.time:""}</div>
   </div>
   <div class="next-card">
     <div class="card-label">NEXT</div>
     <div class="card-title">${next?next.name:"No upcoming"}</div>
     <div class="card-sub">${next?next.teacher+" ‚Ä¢ "+next.room:"-"}</div>
     <div class="card-sub">${next?next.time:""}</div>
   </div>
 </div>`;
}

setInterval(()=>{
 document.getElementById("clock").innerText=new Date().toLocaleTimeString();
 todayReal=new Date().toLocaleString('en-US',{weekday:'long'});
 render();
},1000);

render();
</script>
</body>
</html>
